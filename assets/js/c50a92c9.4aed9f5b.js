"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[23],{258:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=n(4848),s=n(5680);const i={slug:"resize",title:"ResizeObserver",authors:"Zaoei",tags:["js","ResizeObserver","resize"]},l="ResizeObserver \u76d1\u542c DOM \u5c3a\u5bf8\u53d8\u5316",o={permalink:"/resize",source:"@site/blog/2023-05-25-ResizeObserver.md",title:"ResizeObserver",description:"MDN \u5730\u5740\uff1ahttps://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver",date:"2023-05-25T00:00:00.000Z",formattedDate:"May 25, 2023",tags:[{label:"js",permalink:"/tags/js"},{label:"ResizeObserver",permalink:"/tags/resize-observer"},{label:"resize",permalink:"/tags/resize"}],readingTime:1.61,hasTruncateMarker:!0,authors:[{name:"\u8d75\u709c",title:"\u535a\u5ba2\u4f5c\u8005",url:"https://github.com/Zaoei",imageURL:"https://avatars.githubusercontent.com/u/46592356?v=4",key:"Zaoei"}],frontMatter:{slug:"resize",title:"ResizeObserver",authors:"Zaoei",tags:["js","ResizeObserver","resize"]},unlisted:!1,prevItem:{title:"\u642d\u5efa python \u73af\u5883",permalink:"/python environment"},nextItem:{title:"https://caniuse.com",permalink:"/utils web"}},a={authorsImageUrls:[void 0]},c=[{value:"\u6784\u9020\u51fd\u6570",id:"\u6784\u9020\u51fd\u6570",level:2},{value:"callback",id:"callback",level:3},{value:"\u5b9e\u4f8b\u65b9\u6cd5",id:"\u5b9e\u4f8b\u65b9\u6cd5",level:2},{value:"disconnect",id:"disconnect",level:3},{value:"observe",id:"observe",level:3},{value:"unobserve",id:"unobserve",level:3},{value:"MDN \u4f8b\u5b50\u7247\u6bb5",id:"mdn-\u4f8b\u5b50\u7247\u6bb5",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.RP)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["MDN \u5730\u5740\uff1a",(0,t.jsx)(r.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver",children:"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver"})]}),"\n",(0,t.jsx)(r.p,{children:"ResizeObserver \u63a5\u53e3\u76d1\u89c6 Element \u5185\u5bb9\u533a\u57df\u6216\u8005 SVGElement \u8fb9\u754c\u5c3a\u5bf8\u7684\u53d8\u5316\u3002"}),"\n",(0,t.jsx)(r.h1,{id:"\u7528\u6cd5",children:"\u7528\u6cd5"}),"\n",(0,t.jsx)(r.h2,{id:"\u6784\u9020\u51fd\u6570",children:(0,t.jsx)(r.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver/ResizeObserver",children:"\u6784\u9020\u51fd\u6570"})}),"\n",(0,t.jsx)(r.p,{children:"ResizeObserver \u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 ResizeObserver \u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u76d1\u542c Element \u5185\u5bb9\u76d2\u6216\u8fb9\u6846\u76d2\u6216\u8005 SVGElement \u8fb9\u754c\u5c3a\u5bf8\u7684\u5927\u5c0f\u3002"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"new ResizeObserver(callback);\n"})}),"\n",(0,t.jsx)(r.h3,{id:"callback",children:"callback"}),"\n",(0,t.jsx)(r.p,{children:"\u6bcf\u5f53\u89c2\u6d4b\u7684\u5143\u7d20\u8c03\u6574\u5927\u5c0f\u65f6\uff0c\u8c03\u7528\u8be5\u51fd\u6570\u3002\u8be5\u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"entries: \u4e00\u4e2a ResizeObserverEntry \u5bf9\u8c61\u6570\u7ec4\uff0c\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u6bcf\u4e2a\u5143\u7d20\u6539\u53d8\u540e\u7684\u65b0\u5c3a\u5bf8\u3002"}),"\n",(0,t.jsx)(r.li,{children:"observer: \u5bf9 ResizeObserver \u81ea\u8eab\u7684\u5f15\u7528\uff0c\u56e0\u6b64\u9700\u8981\u5b83\u7684\u65f6\u5019\uff0c\u4f60\u8981\u4ece\u56de\u8c03\u51fd\u6570\u7684\u5185\u90e8\u8bbf\u95ee\u3002\u4f8b\u5982\uff0c\u8fd9\u53ef\u7528\u4e8e\u5728\u8fbe\u5230\u7279\u5b9a\u7684\u60c5\u51b5\u65f6\uff0c\u81ea\u52a8\u53d6\u6d88\u5bf9\u89c2\u5bdf\u8005\u7684\u76d1\u542c\uff0c\u4f46\u5982\u679c\u4f60\u4e0d\u9700\u8981\u5b83\uff0c\u53ef\u4ee5\u7701\u7565\u5b83\u3002"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\u5b9e\u4f8b\u65b9\u6cd5",children:"\u5b9e\u4f8b\u65b9\u6cd5"}),"\n",(0,t.jsx)(r.h3,{id:"disconnect",children:"disconnect"}),"\n",(0,t.jsx)(r.p,{children:"\u53d6\u6d88\u5f53\u524d resizeObserver \u4e0a\uff0c\u6240\u6709 DOM \u5143\u7d20\u7684\u76d1\u542c"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"resizeObserver.disconnect();\n"})}),"\n",(0,t.jsx)(r.h3,{id:"observe",children:"observe"}),"\n",(0,t.jsx)(r.p,{children:"\u7528\u4e8e\u76d1\u542c\u6307\u5b9a\u7684 Element \u6216 SVGElement"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"observe(target);\nobserve(target, options);\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"target: \u9700\u8981\u76d1\u542c\u7684\u5143\u7d20"}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"unobserve",children:"unobserve"}),"\n",(0,t.jsx)(r.p,{children:"\u53d6\u6d88\u6307\u5b9a Element \u6216 SVGElement \u7684\u76d1\u542c"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"unobserve(target);\n"})}),"\n",(0,t.jsx)(r.h2,{id:"mdn-\u4f8b\u5b50\u7247\u6bb5",children:"MDN \u4f8b\u5b50\u7247\u6bb5"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"const resizeObserver = new ResizeObserver((entries) => {\n  for (let entry of entries) {\n    if (entry.contentBoxSize) {\n      h1Elem.style.fontSize = `${Math.max(1.5, entry.contentBoxSize.inlineSize / 200)}rem`;\n      pElem.style.fontSize = `${Math.max(1, entry.contentBoxSize.inlineSize / 600)}rem`;\n    } else {\n      h1Elem.style.fontSize = `${Math.max(1.5, entry.contentRect.width / 200)}rem`;\n      pElem.style.fontSize = `${Math.max(1, entry.contentRect.width / 600)}rem`;\n    }\n  }\n});\n\nresizeObserver.observe(divElem);\n\nresizeObserver.unobserve(divElem);\n"})})]})}function h(e={}){const{wrapper:r}={...(0,s.RP)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},5680:(e,r,n)=>{n.d(r,{RP:()=>c});var t=n(6540);function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){s(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function o(e,r){if(null==e)return{};var n,t,s=function(e,r){if(null==e)return{};var n,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var a=t.createContext({}),c=function(e){var r=t.useContext(a),n=r;return e&&(n="function"==typeof e?e(r):l(l({},r),e)),n},d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},h=t.forwardRef((function(e,r){var n=e.components,s=e.mdxType,i=e.originalType,a=e.parentName,h=o(e,["components","mdxType","originalType","parentName"]),b=c(n),p=s,u=b["".concat(a,".").concat(p)]||b[p]||d[p]||i;return n?t.createElement(u,l(l({ref:r},h),{},{components:n})):t.createElement(u,l({ref:r},h))}));h.displayName="MDXCreateElement"}}]);