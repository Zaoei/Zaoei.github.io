"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6508],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>k});var a=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,l=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(t),m=l,k=u["".concat(o,".").concat(m)]||u[m]||d[m]||r;return t?a.createElement(k,p(p({ref:n},c),{},{components:t})):a.createElement(k,p({ref:n},c))}));function k(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var r=t.length,p=new Array(r);p[0]=m;var i={};for(var o in n)hasOwnProperty.call(n,o)&&(i[o]=n[o]);i.originalType=e,i[u]="string"==typeof e?e:l,p[1]=i;for(var s=2;s<r;s++)p[s]=t[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8291:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>p,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=t(7462),l=(t(7294),t(3905));const r={slug:"python environment",title:"\u642d\u5efa python \u73af\u5883",authors:"Zaoei",tags:["linux","python"]},p=void 0,i={permalink:"/python environment",source:"@site/blog/2023-06-23-python\u73af\u5883\u642d\u5efa.md",title:"\u642d\u5efa python \u73af\u5883",description:"\u80cc\u666f",date:"2023-06-23T00:00:00.000Z",formattedDate:"June 23, 2023",tags:[{label:"linux",permalink:"/tags/linux"},{label:"python",permalink:"/tags/python"}],readingTime:4.205,hasTruncateMarker:!0,authors:[{name:"\u8d75\u709c",title:"\u535a\u5ba2\u4f5c\u8005",url:"https://github.com/Zaoei",imageURL:"https://avatars.githubusercontent.com/u/46592356?v=4",key:"Zaoei"}],frontMatter:{slug:"python environment",title:"\u642d\u5efa python \u73af\u5883",authors:"Zaoei",tags:["linux","python"]},prevItem:{title:"\u6d4f\u89c8\u5668\u8c03\u8bd5\u4e0b\u62c9option\u7684\u65b9\u6cd5",permalink:"/tools-select-option"},nextItem:{title:"ResizeObserver",permalink:"/resize"}},o={authorsImageUrls:[void 0]},s=[{value:"\u80cc\u666f",id:"\u80cc\u666f",level:2},{value:"pandoc",id:"pandoc",level:2},{value:"Ruby",id:"ruby",level:2},{value:"\u79bb\u7ebf\u5b89\u88c5\uff08\u63a8\u8350\uff09",id:"\u79bb\u7ebf\u5b89\u88c5\u63a8\u8350",level:3},{value:"\u5728\u7ebf\u5b89\u88c5",id:"\u5728\u7ebf\u5b89\u88c5",level:3},{value:"rvm",id:"rvm",level:4},{value:"\u5b89\u88c5/\u5347\u7ea7 ruby",id:"\u5b89\u88c5\u5347\u7ea7-ruby",level:4},{value:"\u5347\u7ea7\u62a5\u9519",id:"\u5347\u7ea7\u62a5\u9519",level:4},{value:"asciidoctor",id:"asciidoctor",level:2},{value:"asciidoctor-pdf",id:"asciidoctor-pdf",level:2},{value:"\u5b89\u88c5\u540e\u627e\u4e0d\u5230",id:"\u5b89\u88c5\u540e\u627e\u4e0d\u5230",level:3},{value:"python3",id:"python3",level:2},{value:"\u79bb\u7ebf\u5b89\u88c5 python3",id:"\u79bb\u7ebf\u5b89\u88c5-python3",level:3},{value:"pip",id:"pip",level:2},{value:"\u5207\u6362\u56fd\u5185\u6e90",id:"\u5207\u6362\u56fd\u5185\u6e90",level:3},{value:"\u5b89\u88c5\u62a5\u9519",id:"\u5b89\u88c5\u62a5\u9519",level:3},{value:"\u5b89\u88c5 yaml",id:"\u5b89\u88c5-yaml",level:3},{value:"\u5b89\u88c5 esprima",id:"\u5b89\u88c5-esprima",level:3}],c={toc:s},u="wrapper";function d(e){let{components:n,...t}=e;return(0,l.kt)(u,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u80cc\u666f"},"\u80cc\u666f"),(0,l.kt)("p",null,"\u5e2e\u52a9\u6587\u6863\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"pdf")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"word")," \u5bfc\u51fa\uff0c\u57fa\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"python")," \u751f\u6210\uff0c\u6240\u4ee5\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u642d\u5efa\u76f8\u5e94\u7684\u73af\u5883\u3002"),(0,l.kt)("h2",{id:"pandoc"},"pandoc"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Pandoc")," \u662f\u4e00\u4e2a\u7528\u4e8e\u6587\u672c\u8f6c\u6362\u7684\u5f00\u6e90\u5de5\u5177\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6587\u6863\u4ece\u4e00\u79cd\u683c\u5f0f\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u683c\u5f0f\u3002\u5b83\u652f\u6301\u7684\u8f93\u5165\u683c\u5f0f\u5305\u62ec ",(0,l.kt)("inlineCode",{parentName:"p"},"Markdown"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"HTML"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"LaTeX")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"docx")," \u7b49\uff0c\u8f93\u51fa\u683c\u5f0f\u5305\u62ec ",(0,l.kt)("inlineCode",{parentName:"p"},"HTML"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"LaTeX"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"docx"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"PDF")," \u7b49\u3002\n\u4e0b\u8f7d\u5730\u5740\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/jgm/pandoc/releases"},"https://github.com/jgm/pandoc/releases"),"\n\u8fd9\u91cc\u4e0b\u8f7d\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"pandoc-3.1.4-linux-amd64.tar.gz")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir -p /opt/pandoc\ncd /opt/pandoc\n# \u4e0a\u4f20\u538b\u7f29\u5305\ntar -xvf pandoc-3.1.4-linux-amd64.tar.gz\nln -sf /opt/pandoc/pandoc-3.1.4/bin/pandoc /usr/bin/pandoc\npandoc -v\n")),(0,l.kt)("h2",{id:"ruby"},"Ruby"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Ruby")," \u662f\u4e00\u79cd\u52a8\u6001\u3001\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"asciidoctor")," \u4f9d\u8d56\u5b83\u3002"),(0,l.kt)("h3",{id:"\u79bb\u7ebf\u5b89\u88c5\u63a8\u8350"},"\u79bb\u7ebf\u5b89\u88c5\uff08\u63a8\u8350\uff09"),(0,l.kt)("p",null,"\u5b89\u88c5\u5305\u4e0b\u8f7d\u5730\u5740\uff08\u4e0b\u8f7d 2.7 \u4ee5\u4e0a\u7248\u672c\uff09\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://www.ruby-lang.org/en/downloads/releases/"},"https://www.ruby-lang.org/en/downloads/releases/")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir -p /opt/ruby\ncd /opt/ruby/\n// \u4e0a\u4f20\u5b89\u88c5\u5305\ntar -zvxf ruby-2.7.7.tar.gz\ncd ruby-2.7.7\n\n// \u8fdb\u884c\u7f16\u8bd1\u5b89\u88c5\n./configure --prefix=/usr/local/ruby\nmake && make install\n\n// \u5efa\u7acb\u8f6f\u94fe\uff0c\u8986\u76d6\u7cfb\u7edf\u9ed8\u8ba4\u7684 2.0 ruby \u7248\u672c\nln -sf /usr/local/ruby/bin/ruby /usr/bin/ruby\n")),(0,l.kt)("h3",{id:"\u5728\u7ebf\u5b89\u88c5"},"\u5728\u7ebf\u5b89\u88c5"),(0,l.kt)("p",null,"\u5148\u786e\u8ba4\u662f\u5426\u5b89\u88c5\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"rvm"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"rvm")," \u662f\u7528\u6765\u7ba1\u7406 ",(0,l.kt)("inlineCode",{parentName:"p"},"ruby")," \u7248\u672c\u7684\u5de5\u5177\u3002"),(0,l.kt)("h4",{id:"rvm"},"rvm"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# \u4e0b\u8f7d gpg \u516c\u94a5\n\ngpg2 --keyserver hkp://keyserver.ubuntu.com --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB\n\ncurl -L get.rvm.io | bash -s stable\nln -sf /usr/local/rvm/bin/rvm /usr/bin/rvm\nrvm -v\n")),(0,l.kt)("h4",{id:"\u5b89\u88c5\u5347\u7ea7-ruby"},"\u5b89\u88c5/\u5347\u7ea7 ruby"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"rvm install ruby // \u5b89\u88c5\u6700\u65b0\u7248\u672c\n\nrvm install 2.7.2 // \u5b89\u88c5\u6307\u5b9a\u7248\u672c\u7684\n")),(0,l.kt)("h4",{id:"\u5347\u7ea7\u62a5\u9519"},"\u5347\u7ea7\u62a5\u9519"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@172-16-82-102 ~]# rvm install 2.7.1\nAlready installed ruby-2.7.1.\nTo reinstall use:\n\n    rvm reinstall ruby-2.7.1\n\n-bash: cat: \u672a\u627e\u5230\u547d\u4ee4\n")),(0,l.kt)("p",null,"\u5b89\u88c5\u5bfc\u81f4\u73af\u5883\u53d8\u91cf\u88ab\u8986\u76d6\uff0c\u5bfc\u81f4 ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/bin/"),"\u73af\u5883\u53d8\u91cf\u7f3a\u5931\u3002\n\u52a0\u5165 ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/bin/")," \u7684\u4fe1\u606f\u6062\u590d\u6b63\u5e38\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"export PATH=$PATH:/usr/bin/\n")),(0,l.kt)("h2",{id:"asciidoctor"},"asciidoctor"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Asciidoctor")," \u662f\u4e00\u4e2a\u7528\u4e8e\u6587\u672c\u8f6c\u6362\u7684\u5f00\u6e90\u5de5\u5177\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6587\u6863\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"Asciidoc")," \u683c\u5f0f\u8f6c\u6362\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"HTML"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"PDF"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"ePub")," \u548c\u5176\u4ed6\u683c\u5f0f\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"Asciidoctor")," \u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"Ruby")," \u7f16\u5199\u7684"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"gem install asciidoctor\n")),(0,l.kt)("h2",{id:"asciidoctor-pdf"},"asciidoctor-pdf"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Asciidoctor PDF")," \u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"Asciidoctor")," \u7684\u4e00\u4e2a\u63d2\u4ef6\uff0c\u53ef\u4ee5\u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"Asciidoc")," \u6587\u6863\u8f6c\u6362\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"PDF")," \u683c\u5f0f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"ruby version \u2265 2.7\ngem install asciidoctor-pdf\n")),(0,l.kt)("h3",{id:"\u5b89\u88c5\u540e\u627e\u4e0d\u5230"},"\u5b89\u88c5\u540e\u627e\u4e0d\u5230"),(0,l.kt)("p",null,"\u62a5\u9519\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@172-16-82-102 ~]# asciidoctor-pdf -v\n-bash: asciidoctor-pdf: \u672a\u627e\u5230\u547d\u4ee4\n")),(0,l.kt)("p",null,"\u53ef\u91c7\u7528 gem which \u67e5\u770b\u5b89\u88c5\u5730\u5740\uff0c\u5efa\u7acb\u8f6f\u94fe"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"\n[root@172-16-82-102 ~]# gem which asciidoctor-pdf\n/usr/local/ruby/lib/ruby/gems/2.7.0/gems/asciidoctor-pdf-2.3.8/lib/asciidoctor-pdf.rb\n\n[root@172-16-82-102 ~]# ln -sf /usr/local/ruby/lib/ruby/gems/2.7.0/gems/asciidoctor-pdf-2.3.8/bin/asciidoctor-pdf /usr/bin/asciidoctor-pdf\n")),(0,l.kt)("h2",{id:"python3"},"python3"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"python2")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"python3")," \u5b58\u5728\u8bed\u6cd5\u5dee\u5f02\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"python2")," \u6267\u884c\u4f1a\u62a5\u4ee5\u4e0b\u9519\u8bef\uff0c\u4e14 ",(0,l.kt)("inlineCode",{parentName:"p"},"python2")," \u5b98\u65b9\u4e0d\u5728\u7ef4\u62a4\uff0c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"File \"./convert2adoc/convert2adoc.py\", line 40\nSyntaxError: Non-ASCII character '\\xef' in file ./convert2adoc/convert2adoc.py on line 40, but no encoding declared; see http://www.python.org/peps/pep-0263.html for details\n")),(0,l.kt)("h3",{id:"\u79bb\u7ebf\u5b89\u88c5-python3"},"\u79bb\u7ebf\u5b89\u88c5 python3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"// \u4e0b\u8f7d python3\nmkdir -p /opt/python3\ncd /opt/python3/\nwget https://www.python.org/ftp/python/3.9.5/Python-3.9.5.tar.xz\ntar -xvf Python-3.9.5.tar.xz\ncd Python-3.9.5/\n\n// \u5b89\u88c5\n./configure --prefix=/usr/local/python3\nmake && make install\n\n// \u589e\u52a0 python3 \u7684\u8f6f\u8fde\u63a5\nln -sf /usr/local/python3/bin/python3.9 /usr/bin/python3\nln -sf /usr/local/python3/bin/python3.9-config /usr/bin/python-config\n")),(0,l.kt)("h2",{id:"pip"},"pip"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"// \u589e\u52a0 pip \u7684\u8f6f\u8fde\u63a5\nln -sf /usr/local/python3/bin/pip3 /usr/bin/pip3\nln -sf /usr/local/python3/bin/pip3 /usr/bin/pip\n")),(0,l.kt)("h3",{id:"\u5207\u6362\u56fd\u5185\u6e90"},"\u5207\u6362\u56fd\u5185\u6e90"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir -p ~/.pip\nvim ~/.pip/pip.conf\n")),(0,l.kt)("p",null,"\u5199\u5165\u5185\u5bb9\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[global]\nindex-url = http://mirrors.aliyun.com/pypi/simple/\n\n[install]\ntrusted-host = mirrors.aliyun.com\n")),(0,l.kt)("h3",{id:"\u5b89\u88c5\u62a5\u9519"},"\u5b89\u88c5\u62a5\u9519"),(0,l.kt)("p",null,"\u63d0\u793a\u4ee5",(0,l.kt)("inlineCode",{parentName:"p"},"\u201croot\u201d"),"\u7528\u6237\u8eab\u4efd\u8fd0\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"pip")," \u53ef\u80fd\u4f1a\u5bfc\u81f4\u6743\u9650\u635f\u574f\u548c\u51b2\u7a81\uff0c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"WARNING: Running pip as the \u2018root\u2018 user can result in broken permissions and conflicting\n")),(0,l.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\u662f\u5efa\u7acb\u4e00\u4e2a\u865a\u62df\u73af\u5883:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@172-16-82-102 jm]# pip -V\npip 23.1.2 from /usr/local/python3/lib/python3.9/site-packages/pip (python 3.9)\n[root@172-16-82-102 jm]# cd /usr/local/python3/lib/python3.9/site-packages/pip # \u8fdb\u5165\u5b89\u88c5\u5730\u5740\n[root@172-16-82-102 pip]# python -m venv tutorial-env\n[root@172-16-82-102 pip]# source tutorial-env/bin/activate\n(tutorial-env) [root@172-16-82-102 pip]#\n")),(0,l.kt)("p",null,"\u5b89\u88c5\u53c2\u8003\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"(tutorial-env) [root@172-16-82-102 pip]# pip install pyyaml\nLooking in indexes: http://mirrors.aliyun.com/pypi/simple/\nRequirement already satisfied: pyyaml in ./tutorial-env/lib/python3.9/site-packages (6.0)\n(tutorial-env) [root@172-16-82-102 pip]# pip install esprima\nLooking in indexes: http://mirrors.aliyun.com/pypi/simple/\nCollecting esprima\nUsing cached esprima-4.0.1-py3-none-any.whl\nInstalling collected packages: esprima\n")),(0,l.kt)("p",null,"\u4e8c\u6b21\u8fdb\u5165\u865a\u62df\u73af\u5883\n\u5148\u8fdb\u5165 pip \u5b89\u88c5\u8def\u5f84\uff0c\u518d\u8fdb\u5165"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@172-16-82-102 ~]# cd /usr/local/python3/lib/python3.9/site-packages/pip\n[root@172-16-82-102 pip]# source tutorial-env/bin/activate\n")),(0,l.kt)("h3",{id:"\u5b89\u88c5-yaml"},"\u5b89\u88c5 yaml"),(0,l.kt)("p",null,"\u9700\u5148\u8fdb\u5165\u865a\u62df\u73af\u5883"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"pip install yaml\n")),(0,l.kt)("h3",{id:"\u5b89\u88c5-esprima"},"\u5b89\u88c5 esprima"),(0,l.kt)("p",null,"\u9700\u5148\u8fdb\u5165\u865a\u62df\u73af\u5883"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"pip install esprima\n")))}d.isMDXComponent=!0}}]);