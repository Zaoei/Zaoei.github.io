{
    "version": "https://jsonfeed.org/version/1",
    "title": "Blogasaurus Blog",
    "home_page_url": "https://blog.palashsh.me/",
    "description": "Blogasaurus Blog",
    "items": [
        {
            "id": "https://blog.palashsh.me/resize",
            "content_html": "<p>MDN 地址：<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver\" target=\"_blank\" rel=\"noopener noreferrer\">https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver</a></p><h1>ResizeObserver 监听 DOM 尺寸变化</h1><p>ResizeObserver 接口监视 Element 内容区域或者 SVGElement 边界尺寸的变化。</p><h1>用法</h1><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"构造函数\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver/ResizeObserver\" target=\"_blank\" rel=\"noopener noreferrer\">构造函数</a><a href=\"#构造函数\" class=\"hash-link\" aria-label=\"Direct link to 构造函数\" title=\"Direct link to 构造函数\">​</a></h2><p>ResizeObserver 构造函数创建一个新的 ResizeObserver 对象，它可以用于监听 Element 内容盒或边框盒或者 SVGElement 边界尺寸的大小。</p><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword\" style=\"color:#00009f\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\">ResizeObserver</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">callback</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"callback\">callback<a href=\"#callback\" class=\"hash-link\" aria-label=\"Direct link to callback\" title=\"Direct link to callback\">​</a></h3><p>每当观测的元素调整大小时，调用该函数。该函数接收两个参数：</p><ul><li>entries: 一个 ResizeObserverEntry 对象数组，可以用于获取每个元素改变后的新尺寸。</li><li>observer: 对 ResizeObserver 自身的引用，因此需要它的时候，你要从回调函数的内部访问。例如，这可用于在达到特定的情况时，自动取消对观察者的监听，但如果你不需要它，可以省略它。</li></ul><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"实例方法\">实例方法<a href=\"#实例方法\" class=\"hash-link\" aria-label=\"Direct link to 实例方法\" title=\"Direct link to 实例方法\">​</a></h2><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"disconnect\">disconnect<a href=\"#disconnect\" class=\"hash-link\" aria-label=\"Direct link to disconnect\" title=\"Direct link to disconnect\">​</a></h3><p>取消当前 resizeObserver 上，所有 DOM 元素的监听</p><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">resizeObserver</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token method function property-access\" style=\"color:#d73a49\">disconnect</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"observe\">observe<a href=\"#observe\" class=\"hash-link\" aria-label=\"Direct link to observe\" title=\"Direct link to observe\">​</a></h3><p>用于监听指定的 Element 或 SVGElement</p><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token function\" style=\"color:#d73a49\">observe</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">target</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:#d73a49\">observe</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">target</span><span class=\"token punctuation\" style=\"color:#393A34\">,</span><span class=\"token plain\"> options</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><ul><li>target: 需要监听的元素</li></ul><h3 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"unobserve\">unobserve<a href=\"#unobserve\" class=\"hash-link\" aria-label=\"Direct link to unobserve\" title=\"Direct link to unobserve\">​</a></h3><p>取消指定 Element 或 SVGElement 的监听</p><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token function\" style=\"color:#d73a49\">unobserve</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">target</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"mdn-例子片段\">MDN 例子片段<a href=\"#mdn-例子片段\" class=\"hash-link\" aria-label=\"Direct link to MDN 例子片段\" title=\"Direct link to MDN 例子片段\">​</a></h2><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-js codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token keyword\" style=\"color:#00009f\">const</span><span class=\"token plain\"> resizeObserver </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#00009f\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\">ResizeObserver</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token parameter\">entries</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#393A34\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token keyword control-flow\" style=\"color:#00009f\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token keyword\" style=\"color:#00009f\">let</span><span class=\"token plain\"> entry </span><span class=\"token keyword\" style=\"color:#00009f\">of</span><span class=\"token plain\"> entries</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token keyword control-flow\" style=\"color:#00009f\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">entry</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">contentBoxSize</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      h1Elem</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">fontSize</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">${</span><span class=\"token template-string interpolation known-class-name class-name\">Math</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation method function property-access\" style=\"color:#d73a49\">max</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">(</span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">1.5</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">,</span><span class=\"token template-string interpolation\"> entry</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">contentBoxSize</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">inlineSize</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation operator\" style=\"color:#393A34\">/</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">200</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">)</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">}</span><span class=\"token template-string string\" style=\"color:#e3116c\">rem</span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      pElem</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">fontSize</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">${</span><span class=\"token template-string interpolation known-class-name class-name\">Math</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation method function property-access\" style=\"color:#d73a49\">max</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">(</span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">1</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">,</span><span class=\"token template-string interpolation\"> entry</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">contentBoxSize</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">inlineSize</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation operator\" style=\"color:#393A34\">/</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">600</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">)</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">}</span><span class=\"token template-string string\" style=\"color:#e3116c\">rem</span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"> </span><span class=\"token keyword control-flow\" style=\"color:#00009f\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#393A34\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      h1Elem</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">fontSize</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">${</span><span class=\"token template-string interpolation known-class-name class-name\">Math</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation method function property-access\" style=\"color:#d73a49\">max</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">(</span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">1.5</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">,</span><span class=\"token template-string interpolation\"> entry</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">contentRect</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">width</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation operator\" style=\"color:#393A34\">/</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">200</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">)</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">}</span><span class=\"token template-string string\" style=\"color:#e3116c\">rem</span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      pElem</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">style</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token property-access\">fontSize</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#393A34\">=</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">${</span><span class=\"token template-string interpolation known-class-name class-name\">Math</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation method function property-access\" style=\"color:#d73a49\">max</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">(</span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">1</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">,</span><span class=\"token template-string interpolation\"> entry</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">contentRect</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">.</span><span class=\"token template-string interpolation property-access\">width</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation operator\" style=\"color:#393A34\">/</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation number\" style=\"color:#36acaa\">600</span><span class=\"token template-string interpolation punctuation\" style=\"color:#393A34\">)</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#393A34\">}</span><span class=\"token template-string string\" style=\"color:#e3116c\">rem</span><span class=\"token template-string template-punctuation string\" style=\"color:#e3116c\">`</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#393A34\">}</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">resizeObserver</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token method function property-access\" style=\"color:#d73a49\">observe</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">divElem</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">resizeObserver</span><span class=\"token punctuation\" style=\"color:#393A34\">.</span><span class=\"token method function property-access\" style=\"color:#d73a49\">unobserve</span><span class=\"token punctuation\" style=\"color:#393A34\">(</span><span class=\"token plain\">divElem</span><span class=\"token punctuation\" style=\"color:#393A34\">)</span><span class=\"token punctuation\" style=\"color:#393A34\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>",
            "url": "https://blog.palashsh.me/resize",
            "title": "ResizeObserver",
            "summary": "MDN 地址：https://developer.mozilla.org/zh-CN/docs/Web/API/ResizeObserver",
            "date_modified": "2023-05-25T00:00:00.000Z",
            "author": {
                "name": "赵炜",
                "url": "https://github.com/Zaoei"
            },
            "tags": [
                "js",
                "ResizeObserver",
                "resize"
            ]
        },
        {
            "id": "https://blog.palashsh.me/utils web",
            "content_html": "<p>查询浏览器 API 兼容情况</p><ul><li><a href=\"https://caniuse.com/\" target=\"_blank\" rel=\"noopener noreferrer\">https://caniuse.com/</a>: 查询浏览器 API 兼容情况\n<img loading=\"lazy\" src=\"/assets/images/caniuse-example-2818d13fde79799fa42fbd7cb59906a5.png\" width=\"1179\" height=\"561\" class=\"img_ev3q\"></li></ul>",
            "url": "https://blog.palashsh.me/utils web",
            "title": "https://caniuse.com",
            "summary": "查询浏览器 API 兼容情况",
            "date_modified": "2023-05-25T00:00:00.000Z",
            "author": {
                "name": "赵炜",
                "url": "https://github.com/Zaoei"
            },
            "tags": [
                "utils",
                "网站地址"
            ]
        },
        {
            "id": "https://blog.palashsh.me/IntersectionObserver",
            "content_html": "<h1><strong>Intersection Observer API</strong></h1><p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API\" target=\"_blank\" rel=\"noopener noreferrer\">Intersection Observer API - Web API 接口参考 | MDN</a></p><h2 class=\"anchor anchorWithHideOnScrollNavbar_WYt5\" id=\"实现一个组件可视化懒加载\">实现一个组件可视化懒加载<a href=\"#实现一个组件可视化懒加载\" class=\"hash-link\" aria-label=\"Direct link to 实现一个组件可视化懒加载\" title=\"Direct link to 实现一个组件可视化懒加载\">​</a></h2><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">import React, { useRef, useState } from 'react';</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">import { useEffectOnce } from 'react-use';</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">import { useUniqueId } from '*'; // 唯一值获取，自定义</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">export interface Props {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  children: React.ReactNode | (({ isInView }: { isInView: boolean }) =&gt; React.ReactNode);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  onLoad?: () =&gt; void;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">export function LazyLoader({ children, onLoad }: Props) {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  const id = useUniqueId();</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  const [loaded, setLoaded] = useState(false);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  const wrapperRef = useRef&lt;HTMLDivElement&gt;(null);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  useEffectOnce(() =&gt; {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        // 注册进入可视区域的触发事件</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    LazyLoader.addCallback(id, (entry) =&gt; {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      if (!loaded &amp;&amp; entry.isIntersecting) {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        setLoaded(true);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        onLoad?.(); // 执行初始化相关的交互</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      }</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    });</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    const wrapperEl = wrapperRef.current;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    if (wrapperEl) {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      LazyLoader.observer.observe(wrapperEl); // 开始监听</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    return () =&gt; {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      delete LazyLoader.callbacks[id];</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      wrapperEl &amp;&amp; LazyLoader.observer.unobserve(wrapperEl);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      if (Object.keys(LazyLoader.callbacks).length === 0) {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">        LazyLoader.observer.disconnect();</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      }</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    };</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  });</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  return (</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    &lt;div id={id} ref={wrapperRef} &gt;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      {loaded &amp;&amp; children}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    &lt;/div&gt;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  );</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">LazyLoader.callbacks = {} as Record&lt;string, (e: IntersectionObserverEntry) =&gt; void&gt;;</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">LazyLoader.addCallback = (id: string, c: (e: IntersectionObserverEntry) =&gt; void) =&gt; (LazyLoader.callbacks[id] = c);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">LazyLoader.observer = new IntersectionObserver(</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  (entries: IntersectionObserverEntry) =&gt; {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    for (const entry of entries) {</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">      LazyLoader.callbacks[entry.target.id](entry);</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">    }</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  },</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">  { rootMargin: '100px' }</span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain\">);</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>使用</p><div class=\"language-jsx codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#393A34;--prism-background-color:#f6f8fa\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-jsx codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;</span><span class=\"token tag class-name\" style=\"color:#00009f\">LazyLoader</span><span class=\"token tag\" style=\"color:#00009f\"> </span><span class=\"token tag attr-name\" style=\"color:#00a4db\">onLoad</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:#393A34\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:#393A34\">{</span><span class=\"token tag script language-javascript keyword\" style=\"color:#00009f\">this</span><span class=\"token tag script language-javascript punctuation\" style=\"color:#393A34\">.</span><span class=\"token tag script language-javascript property-access\" style=\"color:#00009f\">onPanelLoad</span><span class=\"token tag script language-javascript punctuation\" style=\"color:#393A34\">}</span><span class=\"token tag punctuation\" style=\"color:#393A34\">&gt;</span><span class=\"token plain-text\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain-text\">  </span><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;</span><span class=\"token tag class-name\" style=\"color:#00009f\">Panel</span><span class=\"token tag\" style=\"color:#00009f\"> </span><span class=\"token tag punctuation\" style=\"color:#393A34\">/&gt;</span><span class=\"token plain-text\"></span><br></span><span class=\"token-line\" style=\"color:#393A34\"><span class=\"token plain-text\"></span><span class=\"token tag punctuation\" style=\"color:#393A34\">&lt;/</span><span class=\"token tag class-name\" style=\"color:#00009f\">LazyLoader</span><span class=\"token tag punctuation\" style=\"color:#393A34\">&gt;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>",
            "url": "https://blog.palashsh.me/IntersectionObserver",
            "title": "Intersection Observer API",
            "summary": "Intersection Observer API - Web API 接口参考 | MDN",
            "date_modified": "2023-04-12T00:00:00.000Z",
            "author": {
                "name": "赵炜",
                "url": "https://github.com/Zaoei"
            },
            "tags": [
                "performance"
            ]
        },
        {
            "id": "https://blog.palashsh.me/softwareDevelopmentSex",
            "content_html": "<p>身为程序员对与编码中的可拓展性应该要非常了解的，并不断实践中，具体是指的是在代码设计的过程中，需要为将来可能出现的新功能预先设定好拓展点，不会出现新加了一个功能，导致更改了大量原始代码的情况。</p><p>而在软件中的拓展性，却不当当指的是新功能的拓展，还有在运营环境中稳定。</p><p>在以下场景中，商店中悄然上架了一个贵公司的软件，一直不温不火的，突然有一天火了，从原先的 1w+的人流量，暴增至 10+ 以上的人流量，这时候服务器撑不住了，如果你是贵公司的老板，你将面临以下几个选择：</p><ul><li>选择一：马上召集公司的程序员加班优化软件。</li><li>选择二：马上扩增服务器。</li></ul><p>其实就一种选择，扩增服务器，为什么呢？</p><p>让程序员进行修改，第一个是时间问题，而一个软件的爆火是有实效性的，如果不能在短时间内跟上，随着而来的就可以能是用户的负反馈，继而恢复至原本的 1w+，甚至更少。，第二个是成本问题，就比较现实了，是程序员便宜还是服务器便宜，相信大家心中都有答案。</p><p>所以在软件设计之初，就需要考虑到后续服务的拓展以及稳定上。</p><p>还有一些硬件升级后，能否在最新的硬件上正常执行，也是拓展性的一种。</p>",
            "url": "https://blog.palashsh.me/softwareDevelopmentSex",
            "title": "软件的拓展性",
            "summary": "身为程序员对与编码中的可拓展性应该要非常了解的，并不断实践中，具体是指的是在代码设计的过程中，需要为将来可能出现的新功能预先设定好拓展点，不会出现新加了一个功能，导致更改了大量原始代码的情况。",
            "date_modified": "2023-04-12T00:00:00.000Z",
            "author": {
                "name": "赵炜",
                "url": "https://github.com/Zaoei"
            },
            "tags": [
                "design"
            ]
        }
    ]
}